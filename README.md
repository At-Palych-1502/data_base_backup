# Обновление базы данных
При работе сайта на сервере база данных будет постоянно перезаписываться и изменятся. Если использовать базу данных просто как файл в репозитории, возникает несколько проблем: для того чтобы не потерять изменения, внесённые на сервере, необходимо как-то импортировать файл базы данных. Zip-архивом не удобно, в git возникает куча проблем с конфликтами.
Сейчас у нас на серваке используется Docker Image. Этот инструмент сохраняет значение базы данных в постоянной памяти, так что даже после принудительной перезагрузке сервера ничего не пропадёт + скрипт на импорт бэкапа в `.tar.gz` архиве + обновление базы данных через этот репозиторий.

## Ветки
В репозитории всего две ветки: 
- `main`: Ветка для обновления бд.
- `server`: Ветка для коммитов с сервера. Её **не трогать**. Она используется для бэкапов со стороны сервера.

## Структура
Для корректного обновления базы данных необходимо поместить файл `canteen.db` в папку `volume/` в корне репозитория.
```
volume/
-- canteen.db
```

## Дополнительная информаци
Скрипт с настройкой базы данных помещает файл `canteen.db` по пути `backend/db/canteen.db`. Если коммит сделан не по структуре, изменения просто не будут внесены, и при запуске контейнера база данных будет **старой версии**. Учитывайте это также при проектировании бекэнда.